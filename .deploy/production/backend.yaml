sipher-chart:
  ingress:
    enabled: true
    annotations:
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/target-type: ip
      kubernetes.io/ingress.class: alb
      service.beta.kubernetes.io/aws-load-balancer-internal: "true"
    rules:
    - host:  api-dashboard.atherlabs.xyz
      paths:
      - path: /
        serviceName: loyalty-backend-api
        servicePort: 5500
        pathType: ImplementationSpecific
  deploys:
    - name: backend
      replicasCount: 2
      autoScale:
        min: 2
        max: 5
      resources:
        requests:
          memory: 256Mi
          cpu: 128m
        limits:
          memory: 512Mi
          cpu: 512m
      command: ['/bin/sh']
      args:
        - '-c'
        - 'node ./dist/main.js'
      services:
        - name: api
          containerPort:
            api: 5500
    - name: lootbox-tracker
      replicasCount: 1
      resources: {}
      command: ['/bin/sh']
      args:
        - '-c'
        - 'node ./dist/scripts/lootbox-tracker.js'
    - name: sculpture-tracker
      replicasCount: 1
      resources: {}
      command: ['/bin/sh']
      args:
        - '-c'
        - 'node ./dist/scripts/sculpture-tracker.js'
  env: {}